
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Ashish Gupta">
      
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../o2/">
      
      
        
      
      
      <link rel="icon" href="../../material/chip">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>SPI - Hardware Communication Fundamentals</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spi-serial-peripheral-interface" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Hardware Communication Fundamentals" class="md-header__button md-logo" aria-label="Hardware Communication Fundamentals" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 4h12v1h3v2h-3v2h3v2h-3v2h3v2h-3v2h3v2h-3v1H6v-1H3v-2h3v-2H3v-2h3v-2H3V9h3V7H3V5h3zm5 11v3h1v-3zm2 0v3h1v-3zm2 0v3h1v-3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hardware Communication Fundamentals
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SPI
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hardware Communication Fundamentals" class="md-nav__button md-logo" aria-label="Hardware Communication Fundamentals" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 4h12v1h3v2h-3v2h3v2h-3v2h3v2h-3v2h3v2h-3v1H6v-1H3v-2h3v-2H3v-2h3v-2H3V9h3V7H3V5h3zm5 11v3h1v-3zm2 0v3h1v-3zm2 0v3h1v-3z"/></svg>

    </a>
    Hardware Communication Fundamentals
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Objectives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Objectives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Section 1
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Section 1
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 2h14v14H5zm2 2v2h10V7zm0 4v2h10v-2zm0 4v2h7v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    SPI
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 2h14v14H5zm2 2v2h10V7zm0 4v2h10v-2zm0 4v2h7v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    SPI
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-spi" class="md-nav__link">
    <span class="md-ellipsis">
      
        What is SPI
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-is-it-used-now" class="md-nav__link">
    <span class="md-ellipsis">
      
        Where is it used now?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spi-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        SPI Architecture
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        The setup
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wiring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wiring
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-the-raspberry-pi-for-spi-communication" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting up the Raspberry Pi for SPI communication
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../i2c.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I2C
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Section 2
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Section 2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../o2/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 2h14v14H5zm2 2v2h10V7zm0 4v2h10v-2zm0 4v2h7v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Objective 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../o3/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 2h14v14H5zm2 2v2h10V7zm0 4v2h10v-2zm0 4v2h7v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Objective 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Section 3
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Section 3
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../o4/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 2h14v14H5zm2 2v2h10V7zm0 4v2h10v-2zm0 4v2h7v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Objective 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../o5/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 2h14v14H5zm2 2v2h10V7zm0 4v2h10v-2zm0 4v2h7v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Objective 5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Extras
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Extras
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../easter_eggs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Easter Eggs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="spi-serial-peripheral-interface">SPI [Serial Peripheral Interface]<a class="headerlink" href="#spi-serial-peripheral-interface" title="Permanent link">⚓︎</a></h1>
<h2 id="what-is-spi">What is SPI<a class="headerlink" href="#what-is-spi" title="Permanent link">⚓︎</a></h2>
<p>SPI stands for Serial Peripheral Interface. It's essentially a synchronous serial communication protocol that's used for short-distance communication, typically between a microcontroller (like a Raspberry Pi or an Arduino) and one or more peripheral devices like sensors, SD cards, or other modules. So that's the basic idea!</p>
<h2 id="where-is-it-used-now">Where is it used now?<a class="headerlink" href="#where-is-it-used-now" title="Permanent link">⚓︎</a></h2>
<p>SPI is used behind the scenes in a lot of common electronics. For instance, if you've got a device with an SD card reader-like a camera or even some smartphones - that SD card reader is probably using SPI to communicate with the main processor. <br/>
Touchscreens in appliances - like a smart fridge panel or a fancy thermostat screen - which often rely on SPI to send data quickly between the controller and the display.</p>
<h2 id="spi-architecture">SPI Architecture<a class="headerlink" href="#spi-architecture" title="Permanent link">⚓︎</a></h2>
<p>This consists of devices (Master and Secondary) and the signals used between the devices.</p>
<h3 id="devices">Devices<a class="headerlink" href="#devices" title="Permanent link">⚓︎</a></h3>
<ol>
<li><strong>Master Device</strong> : This controls the communication and provides the clock signal(more on this in the signal section below). 
e.g. A Raspberry Pi or Arduino.<br/></li>
<li><strong>Secondary Device</strong> : These are the peripheral devices e.g. SD card, Display.</li>
</ol>
<h3 id="signals">Signals<a class="headerlink" href="#signals" title="Permanent link">⚓︎</a></h3>
<ol>
<li><strong>SCK (Serial Clock Line)</strong> : Generated by the master device. Every time there is clock pulse, there is data transfer on MOSI/MISO line.</li>
<li><strong>MOSI (Master Out Secondary In)</strong> :  The line that carries data from the master to the secondary device.</li>
<li><strong>MISO (Master In Secondary Out)</strong> :  The line that carries data from the secondary device back to the master.</li>
<li><strong>SS (Secondary Select)</strong> :  The line that is used to select which secondary device you are currently talking to if you have more than one.</li>
</ol>
<h3 id="flow">Flow<a class="headerlink" href="#flow" title="Permanent link">⚓︎</a></h3>
<ol>
<li>
<p><strong>Select the device (SS)</strong>
The master pulls the SS line low to select the device it wants to communicate with.</p>
</li>
<li>
<p><strong>Set the timing (Clock)</strong>
The master generates clock pulses that control when data is transferred.</p>
</li>
<li>
<p><strong>Transfer the data (MOSI / MISO)</strong>
Data is exchanged one bit per clock pulse, with the master sending data on MOSI and the device optionally responding on MISO.</p>
</li>
<li>
<p><strong>End the communication</strong>
The clock stops and SS is pulled high, ending the transaction.</p>
</li>
</ol>
<pre class="mermaid"><code>flowchart TB

%% ───────── Control ─────────
subgraph Control["Control / Device Selection (SS)"]
direction TB
A[Master decides to communicate]
B[SS pulled LOW&lt;br/&gt;Device selected]
end

%% ───────── Timing ─────────
subgraph Timing["Timing (Clock / SCK)"]
direction TB
C[Clock starts toggling]
D[Clock pulses define bit timing]
end

%% ───────── Data ─────────
subgraph Data["Data Transfer (MOSI / MISO)"]
direction TB
E[Master places bit on MOSI]
F[Clock edge occurs]
G[Device samples bit]
H{More bits?}
end

%% ───────── End ─────────
subgraph End["End of Transaction"]
direction TB
I[Clock stops]
J[SS pulled HIGH&lt;br/&gt;Device deselected]
end

%% ───────── Flow ─────────
A --&gt; B --&gt; C --&gt; D --&gt; E --&gt; F --&gt; G --&gt; H
H --&gt;|Yes| E
H --&gt;|No| I --&gt; J</code></pre>
<h2 id="the-setup">The setup<a class="headerlink" href="#the-setup" title="Permanent link">⚓︎</a></h2>
<ol>
<li>Wiring</li>
<li>Setting up the Raspberry Pi for SPI</li>
<li>Testing without an actual MicroSD card</li>
<li>Testing with an actual MicroSD card</li>
</ol>
<h2 id="wiring">Wiring<a class="headerlink" href="#wiring" title="Permanent link">⚓︎</a></h2>
<p>The time for action! <br>
I used :</p>
<ol>
<li><a href="https://www.raspberrypi.com/products/raspberry-pi-2-model-b/">Raspberry PI 2 Model B V 1.1</a> as master.</li>
<li><a href="https://a.co/d/80C9VED">MicroSD card adapter</a> as secondary device.</li>
<li><a href="https://www.amazon.com/dp/B08TJRVWV1">MicroSD card</a></li>
<li><a href="https://www.amazon.com/dp/B01EV70C78?ref=ppx_yo2ov_dt_b_fed_asin_title">Jumper wires (female to female)</a></li>
</ol>
<h3 id="raspberry-pi">Raspberry Pi<a class="headerlink" href="#raspberry-pi" title="Permanent link">⚓︎</a></h3>
<p>One of the most important section in the Pi are the pins. <br/></p>
<table>
<thead>
<tr>
<th>Raspiberry Pi</th>
<th>Pins in the Raspberry Pi</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="Raspberry Pi" src="../../img/objectives/spi/spi_0.png" /></td>
<td><img alt="Raspberry Pi" src="../../img/objectives/spi/spi_1.png" /></td>
</tr>
</tbody>
</table>
<table>
  <thead>
    <tr>
      <th>Raspberry Pi pins</th>
      <th>INSIDE<br/>(Odd Pins)</th>
      <th>Purpose</th>
      <th>OUTSIDE<br/>(Even Pins)</th>
      <th>Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr><td  rowspan="21"><img src="../../img/objectives/spi/spi_2.png" alt="Raspberry Pi 2 Model B GPIO" style="width:260px;">
    </td></tr>
    <tr>
      <td>Pin 1</td>
      <td>3.3V Power</td>
      <td>Pin 2</td>
      <td>5V Power</td>
    </tr>
    <tr>
      <td>Pin 3</td>
      <td>GPIO2 / I²C SDA1</td>
      <td>Pin 4</td>
      <td>5V Power</td>
    </tr>
    <tr>
      <td>Pin 5</td>
      <td>GPIO3 / I²C SCL1</td>
      <td>Pin 6</td>
      <td>GND</td>
    </tr>
    <tr>
      <td>Pin 7</td>
      <td>GPIO4</td>
      <td>Pin 8</td>
      <td>GPIO14 / UART TXD</td>
    </tr>
    <tr>
      <td>Pin 9</td>
      <td>GND</td>
      <td>Pin 10</td>
      <td>GPIO15 / UART RXD</td>
    </tr>
    <tr>
      <td>Pin 11</td>
      <td>GPIO17</td>
      <td>Pin 12</td>
      <td>GPIO18 / PWM0</td>
    </tr>
    <tr>
      <td>Pin 13</td>
      <td>GPIO27</td>
      <td>Pin 14</td>
      <td>GND</td>
    </tr>
    <tr>
      <td>Pin 15</td>
      <td>GPIO22</td>
      <td>Pin 16</td>
      <td>GPIO23</td>
    </tr>
    <tr>
      <td>Pin 17</td>
      <td>3.3V Power</td>
      <td>Pin 18</td>
      <td>GPIO24</td>
    </tr>
    <tr>
      <td>Pin 19</td>
      <td>GPIO10 / SPI MOSI</td>
      <td>Pin 20</td>
      <td>GND</td>
    </tr>
    <tr>
      <td>Pin 21</td>
      <td>GPIO9 / SPI MISO</td>
      <td>Pin 22</td>
      <td>GPIO25</td>
    </tr>
    <tr>
      <td>Pin 23</td>
      <td>GPIO11 / SPI SCLK</td>
      <td>Pin 24</td>
      <td>GPIO8 / SPI CS0</td>
    </tr>
    <tr>
      <td>Pin 25</td>
      <td>GND</td>
      <td>Pin 26</td>
      <td>GPIO7 / SPI CS1</td>
    </tr>
    <tr>
      <td>Pin 27</td>
      <td>GPIO0 / ID_SD</td>
      <td>Pin 28</td>
      <td>GPIO1 / ID_SC</td>
    </tr>
    <tr>
      <td>Pin 29</td>
      <td>GPIO5</td>
      <td>Pin 30</td>
      <td>GND</td>
    </tr>
    <tr>
      <td>Pin 31</td>
      <td>GPIO6</td>
      <td>Pin 32</td>
      <td>GPIO12 / PWM0</td>
    </tr>
    <tr>
      <td>Pin 33</td>
      <td>GPIO13 / PWM1</td>
      <td>Pin 34</td>
      <td>GND</td>
    </tr>
    <tr>
      <td>Pin 35</td>
      <td>GPIO19 / PCM FS</td>
      <td>Pin 36</td>
      <td>GPIO16</td>
    </tr>
    <tr>
      <td>Pin 37</td>
      <td>GPIO26</td>
      <td>Pin 38</td>
      <td>GPIO20 / PCM DIN</td>
    </tr>
    <tr>
      <td>Pin 39</td>
      <td>GND</td>
      <td>Pin 40</td>
      <td>GPIO21 / PCM DOUT</td>
    </tr>
  </tbody>
</table>

<h3 id="microsd-card-adapter-module">MicroSD card adapter module<a class="headerlink" href="#microsd-card-adapter-module" title="Permanent link">⚓︎</a></h3>
<p>Front and back side of the adapter module showing the CS, MOSI, MISO and SCK pins.
The additional VCC (Voltage at the Common Collector) pin is to supply power from the 3.3V of Raspberry pi.</p>
<table>
<thead>
<tr>
<th>Front side</th>
<th>Back side</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="MicroSD card adapter module" src="../../img/objectives/spi/spi_4.png" /></td>
<td><img alt="MicroSD card adapter module" src="../../img/objectives/spi/spi_3.png" /></td>
</tr>
</tbody>
</table>
<h3 id="jumper-wires">Jumper wires<a class="headerlink" href="#jumper-wires" title="Permanent link">⚓︎</a></h3>
<p>In this case we need female to female wires connecting the Raspberry Pi and MicroSD card module pins. <br/>
<img alt="Jumper cable" src="../../img/objectives/spi/spi_5.png" />  </p>
<h3 id="the-wiring">The wiring<a class="headerlink" href="#the-wiring" title="Permanent link">⚓︎</a></h3>
<p>3.3V Pin from Raspberry Pi to VCC pin on the MicroSD module. <br/>
<img alt="3.3V Pin from Raspberry Pi to VCC pin the MicroSD module" src="../../img/objectives/spi/spi_6.png" />
<br/>
MISO/Pin 21 from Raspberry Pi to MISO pin on the MicroSD module. <br/>
<img alt="MISO/Pin 21 from Raspberry Pi to MISO pin on the MicroSD module." src="../../img/objectives/spi/spi_7.png" />
<br/>
MOSI/Pin 19 from Raspberry Pi to MOSI pin on the MicroSD module. <br/>
<img alt="MOSI/Pin 19 from Raspberry Pi to MOSI pin on the MicroSD module." src="../../img/objectives/spi/spi_8.png" />
<br/>
SCK(Clock pin)/Pin 23 from Raspberry Pi to SCK pin on the MicroSD module. <br/>
<img alt="MSCK(Clock pin)/Pin 23 from Raspberry Pi to SCK pin on the MicroSD module." src="../../img/objectives/spi/spi_9.png" />
<br/>
CS/SS(Chip Select/Secondary Select pin)/Pin 24 from Raspberry Pi to CS pin on the MicroSD module. <br/>
<img alt="CS/SS(Chip Select/econdary Select pin)/Pin 24 from Raspberry Pi to CS pin on the MicroSD module." src="../../img/objectives/spi/spi_10.png" />
<br/>
Ground/Pin 6 from Raspberry Pi to GND pin on the MicroSD module. <br/>
<img alt="Ground/Pin 6 from Raspberry Pi to GND pin on the MicroSD module." src="../../img/objectives/spi/spi_18.png" />
<br/></p>
<h2 id="setting-up-the-raspberry-pi-for-spi-communication">Setting up the Raspberry Pi for SPI communication<a class="headerlink" href="#setting-up-the-raspberry-pi-for-spi-communication" title="Permanent link">⚓︎</a></h2>
<h3 id="enable-the-spi">Enable the SPI<a class="headerlink" href="#enable-the-spi" title="Permanent link">⚓︎</a></h3>
<p>Connect to the Raspberry pi and open the Raspberry Pi config. <br/>
<div class="highlight"><pre><span></span><code>sudo raspi-config
</code></pre></div>
<img alt="Raspberry PI config." src="../../img/objectives/spi/spi_11.png" /></p>
<p><br/>
Go to "System Options" and select "SPI - Enable/disable automatic loading of SPI kernel module".</p>
<table>
<thead>
<tr>
<th>System options</th>
<th>Enable SPI</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="System Options" src="../../img/objectives/spi/spi_12.png" /></td>
<td><img alt="Enable SPI" src="../../img/objectives/spi/spi_13.png" /></td>
</tr>
</tbody>
</table>
<p><br/>
Reboot the Pi. <br/>
<div class="highlight"><pre><span></span><code>reboot
</code></pre></div></p>
<p>SPI is now enabled. <br/>
<img alt="SPI enabled" src="../../img/objectives/spi/spi_14.png" /> <br/></p>
<p>We confirm by looking at the modules available on the Pi filesystem.<br/></p>
<p>We can confirm and check if the kernel modules related to the SPI are loaded.
<div class="highlight"><pre><span></span><code>lsmod | grep spi
</code></pre></div>
<img alt="SPI enabled" src="../../img/objectives/spi/spi_16.png" /> <br/></p>
<ol>
<li><strong>spi_bcm2835</strong> is the SPI driver specific to the Broadcom chip in the Raspberry Pi. <br/>This tells us the hardware SPI interface is active.</li>
<li><strong>spidev</strong> is the module that creates the /dev/spidev0.0 and /dev/spidev0.1 device files that user programs can interact with.</li>
</ol>
<p>Below are the interfaces which our Python program (details later below) can open and talk to. <br/>
<div class="highlight"><pre><span></span><code>ls /dev/spidev*
</code></pre></div>
<img alt="SPI enabled" src="../../img/objectives/spi/spi_15.png" /> <br/></p>
<p>To be absolutely sure, verify that SPI is enabled in the boot configuration <br/> 
<div class="highlight"><pre><span></span><code>cat /boot/config.txt
</code></pre></div>
<img alt="SPI enabled" src="../../img/objectives/spi/spi_17.png" /> <br/></p>
<h3 id="test">Test<a class="headerlink" href="#test" title="Permanent link">⚓︎</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">spidev</span>

<span class="n">spi</span> <span class="o">=</span> <span class="n">spidev</span><span class="o">.</span><span class="n">SpiDev</span><span class="p">()</span>
<span class="n">spi</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>        <span class="c1"># bus 0, CS0</span>
<span class="n">spi</span><span class="o">.</span><span class="n">max_speed_hz</span> <span class="o">=</span> <span class="mi">400000</span>
<span class="n">spi</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SPI opened successfully&quot;</span><span class="p">)</span>
</code></pre></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://twitter.com/<twitter_username>" target="_blank" rel="noopener" title="Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/<github_username>" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.instagram.com/<instagram_username>" target="_blank" rel="noopener" title="Instagram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M224.3 141a115 115 0 1 0-.6 230 115 115 0 1 0 .6-230m-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1-.6-149.2m93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1-53.6 0m129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["toc.integrate", "content.code.copy", "navigation.sections"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
      
        <script src="../../js/tablesort.js"></script>
      
    
  </body>
</html>